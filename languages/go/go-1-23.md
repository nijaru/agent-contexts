# Go 1.23 Release Notes

**Released**: August 2024
**Overview**: Key updates include iterator support via range-over-function types, new standard library functions, and an opt-in telemetry system for usage statistics.

## Language Changes

- **Range-over-Function Iterators**: Go 1.23 introduces iterator functions for use in `for-range` loops, enabling iteration over custom sequences.
  ```go
  // Example: Iterating over a sequence of integers
  func ints(yield func(int) bool) {
      for i := 0; i < 10; i++ {
          if !yield(i) {
              return
          }
      }
  }

  for i := range ints {
      fmt.Println(i) // Prints 0 to 9
  }
  ```
  - **Impact**: Simplifies custom iteration, making loops over non-standard collections more readable and efficient.

## Standard Library Updates

### iter Package

- **New Package**: `iter` supports the new iterator functionality with types for sequences.
  ```go
  type Seq[V any] func(yield func(V) bool)          // Single-value iterator
  type Seq2[K, V any] func(yield func(K, V) bool)   // Key-value iterator
  ```
  - **Impact**: Use `Seq` for single-value sequences and `Seq2` for key-value pairs.

### slices Package

- **New Functions**: Enhanced with iterator support.
  ```go
  func All[E any](s []E) iter.Seq2[int, E]            // Iterates over indices and elements
  func Backward[E any](s []E) iter.Seq2[int, E]       // Iterates backward
  func Values[E any](s []E) iter.Seq[E]               // Iterates over elements
  func AppendSeq[E any](s []E, seq iter.Seq[E]) []E   // Appends sequence to slice
  func Collect[E any](seq iter.Seq[E]) []E            // Collects sequence into slice
  func Sorted[E constraints.Ordered](seq iter.Seq[E]) []E  // Collects and sorts
  func SortedFunc[E any](seq iter.Seq[E], cmp func(E, E) int) []E  // Sorts with custom comparator
  ```
  - **Impact**: Modernizes slice operations; prefer these for efficient, iterator-based code.

### maps Package

- **New Functions**: Iterator support for maps.
  ```go
  func All[K comparable, V any](m map[K]V) iter.Seq2[K, V]    // Iterates over key-value pairs
  func Keys[K comparable, V any](m map[K]V) iter.Seq[K]       // Iterates over keys
  func Values[K comparable, V any](m map[K]V) iter.Seq[V]     // Iterates over values
  func InsertSeq[K comparable, V any](m map[K]V, seq iter.Seq2[K, V])  // Inserts from sequence
  ```
  - **Impact**: Streamlines map operations with iterators.

### cmp Package

- **New Function**: Generic comparison for ordered types.
  ```go
  func Compare[T Ordered](x, y T) int  // Returns -1, 0, or 1 based on x < y, x == y, or x > y
  ```
  - **Impact**: Simplifies comparisons across ordered types.

### slices Package (Additional)

- **New Function**: Lexicographical slice comparison.
  ```go
  func Compare[E Ordered](s1, s2 []E) int  // Compares slices element-wise
  ```
  - **Impact**: Useful for sorting or ordering slices.

### structs Package

- **New Package**: Experimental package with marker types to modify struct properties.
  - **Impact**: Use cautiously for advanced struct manipulation.

### unique Package

- **New Package**: Canonicalizes ("interns") comparable values to optimize memory.
  - **Impact**: Helpful for reducing memory usage with repeated values.

## Tools

### go Command

- **Telemetry**: New opt-in system to collect usage and breakage statistics.
  ```bash
  go telemetry on   # Enable telemetry
  go telemetry off  # Disable telemetry
  ```
  - **Impact**: Optional; enable to contribute to Goâ€™s improvement.

- **go vet**: Now flags symbols too new for the target Go version.
  - **Impact**: Aids in maintaining compatibility with older versions.

## Runtime

- **Garbage Collector**: Improved to lower latency in specific cases.
  - **Impact**: No code changes needed; expect better performance in GC-intensive apps.

- **Scheduler**: Optimized for more efficient goroutine scheduling.
  - **Impact**: May improve concurrency performance.

## Platform Changes

- **macOS**: Last release supporting macOS 10.15 Catalina. Go 1.24 will require macOS 11 Big Sur or later.
  - **Impact**: Update macOS targets if deploying to older versions.

- **Windows**: Last release supporting Windows 7, 8, and Server 2008. Go 1.24 will require Windows 10 or later.
  - **Impact**: Ensure Windows deployments meet minimum requirements.
